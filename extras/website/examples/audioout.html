<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>audioout.gm</title>
<meta name="Generator" content="SciTE - www.Scintilla.org" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
.S0 {
	color: #808080;
	font-size: 10pt;
}
.S2 {
	font-family: 'Consolas';
	color: #907F90;
	font-size: 11pt;
}
.S5 {
	color: #FFFFFF;
	font-size: 10pt;
}
.S6 {
	font-weight: bold;
	color: #FFFF30;
	font-size: 10pt;
}
.S7 {
	font-weight: bold;
	color: #FFAFF0;
	font-size: 10pt;
}
.S10 {
	color: #60A0FF;
	font-size: 10pt;
}
.S13 {
	font-weight: bold;
	color: #FFFFFF;
	font-size: 10pt;
}
span {
	font-family: 'Consolas';
	color: #E0E0F0;
	font-size: 11pt;
}
</style>
</head>
<body bgcolor="#312620">
<span><span class="S2">// enumerate audio devices</span><br />
<span class="S6">global</span><span class="S0"> </span>ADEVICE_ENUM<span class="S0"> </span><span class="S13">=</span><span class="S0"> </span><span class="S7">AudioDeviceInfo</span><span class="S13">();</span><br />
<span class="S6">for</span><span class="S13">(</span>i<span class="S13">=</span><span class="S5">0</span><span class="S13">;</span><span class="S0"> </span><span class="S6">true</span><span class="S13">;</span><span class="S0"> </span>i<span class="S13">+=</span><span class="S5">1</span><span class="S13">)</span><span class="S0"> </span><span class="S13">{</span><br />
<span class="S0">&nbsp; &nbsp; </span>ADEVICE_ENUM<span class="S13">.</span>getDevice<span class="S13">(</span>i<span class="S13">);</span><br />
<span class="S0">&nbsp; &nbsp; </span><span class="S6">if</span><span class="S13">(</span>ADEVICE_ENUM<span class="S13">.</span>index<span class="S0"> </span><span class="S13">==</span><span class="S0"> </span><span class="S13">-</span><span class="S5">1</span><span class="S13">)</span><span class="S0"> </span><span class="S13">{</span><span class="S0"> </span><span class="S6">break</span><span class="S13">;</span><span class="S0"> </span><span class="S13">}</span><br />
<span class="S0">&nbsp; &nbsp; </span>log<span class="S13">(</span><span class="S10">"Found audio-device: "</span><span class="S13">+</span>ADEVICE_ENUM<span class="S13">.</span>name<span class="S13">);</span><br />
<span class="S13">}</span><br />
<br />
<span class="S2">// play some sound</span><br />
<span class="S6">global</span><span class="S0"> </span>ADEVICE<span class="S0"> </span><span class="S13">=</span><span class="S0"> </span><span class="S7">AudioDevice</span><span class="S13">(</span><span class="S5">22050</span><span class="S13">,</span><span class="S0"> </span><span class="S5">2</span><span class="S13">,</span><span class="S0"> </span><span class="S5">512</span><span class="S13">,</span><span class="S0"> </span><span class="S13">-</span><span class="S5">1</span><span class="S13">,</span><span class="S0"> </span><span class="S5">3</span><span class="S13">);</span><br />
<span class="S6">global</span><span class="S0"> </span>AFILE<span class="S0"> </span><span class="S13">=</span><span class="S0"> </span><span class="S7">AudioFile</span><span class="S13">(</span><span class="S10">"misc/snap.wav"</span><span class="S13">).</span>convert<span class="S13">(</span><span class="S5">22050</span><span class="S13">,</span><span class="S5">16</span><span class="S13">);</span><br />
ADEVICE<span class="S13">.</span>current<span class="S0"> </span><span class="S13">=</span><span class="S0"> </span>AFILE<span class="S13">;</span><br />
ADEVICE<span class="S13">.</span>play<span class="S13">(</span>AFILE<span class="S13">);</span><br />
_freeMemory<span class="S13">();</span><br />
<br />
sleep<span class="S13">(</span><span class="S5">2.0</span><span class="S13">);</span><br />
<span class="S0"></span></span>
</body>
</html>
